---
title: "Project 2"
output: html_document
author: "Matthew Coudert"
---


## Importing Data into SAS
```
PROC IMPORT OUT= PROJECT2.Baldy 
            DATAFILE= "C:\Users\mjc34\Desktop\Baldy.csv" 
            DBMS=CSV REPLACE;
     GETNAMES=YES;
     DATAROW=2; 
RUN;
```
## Data Wrangling
We want the dataset to be the following tidy format, Row 1: Test Group, Row 2: Hair Length, Row 3: Age

First we will create a dataset for each of the 4 groups and rename for consistency:
```
DATA PROJECT2.Luxuriant;
SET PROJECT2.Baldy;
KEEP Luxuriant AgeLuxuriant;
RENAME Luxuriant = Length AgeLuxuriant = Age;
RUN;

DATA PROJECT2.Luxuriant;
SET PROJECT2.Luxuriant;
Group = 'Luxuriant';
RUN;

DATA PROJECT2.Placebo;
SET PROJECT2.Baldy;
KEEP Placebo AgePlacebo;
RENAME Placebo = Length AgePlacebo = Age;
RUN;

DATA PROJECT2.Placebo;
SET PROJECT2.Placebo;
Group = "Placebo";
RUN;

DATA PROJECT2.BaldBeGone;
SET PROJECT2.Baldy;
KEEP BaldBeGone AgeBaldBeGone;
RENAME BaldBeGone = Length AgeBaldBeGone = Age;
RUN;

DATA PROJECT2.BaldBeGone; 
SET PROJECT2.BaldBeGone;
Group = "BaldBeGone";
RUN;

DATA PROJECT2.SkinHeadNoMore;
SET PROJECT2.Baldy;
KEEP Skinheadnomore AgeSkinheadnomore;
RENAME Skinheadnomore = Length AgeSkinheadnomore = Age;
RUN;

DATA PROJECT2.SkinHeadNoMore;
SET PROJECT2.SkinHeadNoMore;
Group = "SkinHeadNoMore";
RUN;
```

Stacking all the datasets on top of eachother
```
DATA PROJECT2.BigBaldy;
SET PROJECT2.SkinHeadNoMore PROJECT2.Luxuriant PROJECT2.Placebo PROJECT2.BaldBeGone;
RUN;
```
Converting inches to mm for all lengths
```
DATA PROJECT2.BigBaldy;
SET PROJECT2.BigBaldy;
Length = Length * 25.4;
RUN;
```

## Plotting
Now that all of our data is in tidy format, we will visualize it to see if theres any obvious patterns we can spot within the data before we begin our analysis.

```
proc template;
define statgraph sgdesign;
dynamic _AGE _LENGTH _GROUP;
begingraph / designwidth=828 designheight=480;
   entrytitle halign=center 'Length of Hair as Compared to Age and Group';
   layout lattice / rowdatarange=data columndatarange=data rowgutter=10 columngutter=10;
      layout overlay / yaxisopts=( label=('Length of hair post treatment (mm)'));
         scatterplot x=_AGE y=_LENGTH / group=_GROUP name='Age and Group versus Length of Hair (mm)';
         discretelegend 'Age and Group versus Length of Hair (mm)' / opaque=false border=true halign=right valign=top displayclipped=true across=1 order=rowmajor location=inside;
      endlayout;
   endlayout;
endgraph;
end;
run;

proc sgrender data=PROJECT2.BIGBALDY template=sgdesign;
dynamic _AGE="AGE" _LENGTH="LENGTH" _GROUP="GROUP";
run;
```

```{r big_plot}
knitr::include_graphics("/Users/matthewcoudert/Maths/2020:21/MT5763/Project 2/Full Dataset Plot.png")
```




